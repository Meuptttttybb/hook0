{
  "db": "PostgreSQL",
  "00190fddca4eda9e85dbf94ef5e42c76801fb9d74dcc0202e0f5e8602fad1963": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text"
        ]
      }
    },
    "query": "\n            INSERT INTO event.resource_type (application__id, service__name, resource_type__name)\n            VALUES ($1, $2, $3)\n            ON CONFLICT DO NOTHING\n        "
  },
  "00edd0c361d4c802cc73bec82854d29bf94addc83884ab0cd11179b91ba3c590": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Jsonb"
        ]
      }
    },
    "query": "\n                INSERT INTO webhook.target_http (target__id, method, url, headers)\n                VALUES ($1, $2, $3, $4)\n            "
  },
  "04e495f34d3f04a636e0c4f7a6c5c4c9d7291a5ffd679b21cefc3e62b20166e4": {
    "describe": {
      "columns": [
        {
          "name": "application__id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT application__id\n            FROM event.application\n            WHERE organization__id = $1\n        "
  },
  "0bdbd8041fda6750113c1b50c28e5b827628cf5dec94c63f666ed62a0efea60d": {
    "describe": {
      "columns": [
        {
          "name": "subscription__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "is_enabled",
          "ordinal": 1,
          "type_info": "Bool"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "secret",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "metadata",
          "ordinal": 4,
          "type_info": "Jsonb"
        },
        {
          "name": "label_key",
          "ordinal": 5,
          "type_info": "Text"
        },
        {
          "name": "label_value",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "target__id",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 8,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Bool",
          "Text",
          "Jsonb",
          "Text",
          "Text"
        ]
      }
    },
    "query": "\n                INSERT INTO webhook.subscription (subscription__id, application__id, is_enabled, description, secret, metadata, label_key, label_value, target__id, created_at)\n                VALUES (public.gen_random_uuid(), $1, $2, $3, public.gen_random_uuid(), $4, $5, $6, public.gen_random_uuid(), statement_timestamp())\n                RETURNING subscription__id, is_enabled, description, secret, metadata, label_key, label_value, target__id, created_at\n            "
  },
  "0d956f456c3b4ec3c7be69c77bd7080e91e4196aeeb76a724e214333ff1f7e65": {
    "describe": {
      "columns": [
        {
          "name": "request_attempt__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "event__id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "subscription__id",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        },
        {
          "name": "picked_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "failed_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "succeeded_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "delay_until",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "response__id",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "retry_count",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "subscription__description",
          "ordinal": 10,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n                    SELECT ra.request_attempt__id, ra.event__id, ra.subscription__id, ra.created_at, ra.picked_at, ra.failed_at, ra.succeeded_at, ra.delay_until, ra.response__id, ra.retry_count, s.description AS subscription__description\n                    FROM webhook.request_attempt AS ra\n                    INNER JOIN webhook.subscription AS s ON s.subscription__id = ra.subscription__id\n                    WHERE s.application__id = $1 AND s.subscription__id = $2\n                    ORDER BY ra.created_at DESC\n                    LIMIT 50\n                "
  },
  "1083720fa3fc34eb868bc4f267a0166e4b75307a8f90bf95e2627e8169895252": {
    "describe": {
      "columns": [
        {
          "name": "application_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "organization_id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT application__id AS application_id, organization__id AS organization_id, name FROM event.application WHERE organization__id = $1"
  },
  "1675d587193877bf62f8a14a3a68895b9c6ae30b67344b721e79e187a379678d": {
    "describe": {
      "columns": [
        {
          "name": "event_type!",
          "ordinal": 0,
          "type_info": "Bool"
        },
        {
          "name": "sub!",
          "ordinal": 1,
          "type_info": "Bool"
        },
        {
          "name": "app_secret!",
          "ordinal": 2,
          "type_info": "Bool"
        },
        {
          "name": "event!",
          "ordinal": 3,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        null,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "UuidArray"
        ]
      }
    },
    "query": "\n                    SELECT\n                        EXISTS(SELECT 1 FROM event.event_type WHERE application__id = ANY($1)) AS \"event_type!\",\n                        EXISTS(SELECT 1 FROM webhook.subscription WHERE application__id = ANY($1)) AS \"sub!\",\n                        EXISTS(SELECT 1 FROM event.application_secret WHERE application__id = ANY($1)) AS \"app_secret!\",\n                        EXISTS(SELECT 1 FROM event.event WHERE application__id = ANY($1)) AS \"event!\"\n                "
  },
  "183a1dbd85659cca02698b6dc7654cda6c6942100b859cddab0d74667295fa20": {
    "describe": {
      "columns": [
        {
          "name": "subscription__id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT subscription__id\n            FROM webhook.subscription\n            WHERE application__id = $1 AND subscription__id = $2\n        "
  },
  "1dd6201f004d983dc69a8ab9e47ad74e9ba96ebecea49877eeb154836c262d0d": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT organization__id AS id FROM event.application WHERE application__id = $1"
  },
  "217a42706e968abfeedd319fbb88a2bb75a5dbbd474e6f7a077ff8c31fcb261a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                    DELETE FROM webhook.subscription__event_type\n                    WHERE subscription__id = $1\n                "
  },
  "236fad02f803acf8e1aee1a8782c6c08959b3163d73afd35a0e3dbd7dd83b016": {
    "describe": {
      "columns": [
        {
          "name": "event__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "event_type__name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "payload",
          "ordinal": 2,
          "type_info": "Bytea"
        },
        {
          "name": "payload_content_type",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "ip",
          "ordinal": 4,
          "type_info": "Inet"
        },
        {
          "name": "metadata",
          "ordinal": 5,
          "type_info": "Jsonb"
        },
        {
          "name": "occurred_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "received_at",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "application_secret__token",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "labels",
          "ordinal": 9,
          "type_info": "Jsonb"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n                SELECT event__id, event_type__name, payload, payload_content_type, ip, metadata, occurred_at, received_at, application_secret__token, labels\n                FROM event.event\n                WHERE application__id = $1 AND event__id = $2\n            "
  },
  "302abef8cc402caebdbcea8da9d02d81ea9e98601a79785baf6347d9902b9993": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM event.application WHERE application__id = $1"
  },
  "361cae7a7162277ee9a0cfeae7a3109c33168d8e468914c0f7e0438dddb6ccc1": {
    "describe": {
      "columns": [
        {
          "name": "event__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "event_type__name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "payload_content_type",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "ip",
          "ordinal": 3,
          "type_info": "Inet"
        },
        {
          "name": "metadata",
          "ordinal": 4,
          "type_info": "Jsonb"
        },
        {
          "name": "occurred_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "received_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "application_secret__token",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "labels",
          "ordinal": 8,
          "type_info": "Jsonb"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                SELECT event__id, event_type__name, payload_content_type, ip, metadata, occurred_at, received_at, application_secret__token, labels\n                FROM event.event\n                WHERE application__id = $1\n                ORDER BY received_at DESC\n                LIMIT 100\n            "
  },
  "3c80dc303c2b9edef6646c3fc526acd63ea830f5b62f8007fe371ffbe3c14876": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "token",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "deleted_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n            INSERT INTO event.application_secret (application__id, name)\n            VALUES ($1, $2)\n            RETURNING name, token, created_at, deleted_at\n        "
  },
  "41bb7b5e1005b64070d71781e49a47b263e1fdbad66e446458deb3e8c8c94c86": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Jsonb",
          "Uuid"
        ]
      }
    },
    "query": "\n                        UPDATE webhook.target_http\n                        SET method = $1, url = $2, headers = $3\n                        WHERE target__id = $4\n                    "
  },
  "43916a73d87e1b33a968003b35340c555c52960f0597dd9dcb9afff25e0cb846": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT name\n            FROM event.organization\n            WHERE organization__id = $1\n        "
  },
  "529bfeaf4cfc68d98dfb29109963d6f4c4133c715022100de30d2d1652796c93": {
    "describe": {
      "columns": [
        {
          "name": "application_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "event_id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "received_at",
          "ordinal": 2,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Text",
          "Bytea",
          "Text",
          "Inet",
          "Jsonb",
          "Timestamptz",
          "Uuid",
          "Jsonb"
        ]
      }
    },
    "query": "\n                INSERT INTO event.event (application__id, event__id, event_type__name, payload, payload_content_type, ip, metadata, occurred_at, received_at, application_secret__token, labels)\n                VALUES ($1, $2, $3, $4, $5, $6, $7, $8, statement_timestamp(), $9, $10)\n                RETURNING application__id AS application_id, event__id AS event_id, received_at\n            "
  },
  "562eee6b240c34015aef185d6076ad5f01078bd3a3199efba88584c90363494c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n            INSERT INTO event.service (application__id, service__name)\n            VALUES ($1, $2)\n            ON CONFLICT DO NOTHING\n        "
  },
  "58930ccb11c49a5f08121f6d84b8e48df7f9edfaaa28e0feba3b18e52c4a7531": {
    "describe": {
      "columns": [
        {
          "name": "request_attempt__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "event__id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "subscription__id",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        },
        {
          "name": "picked_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "failed_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "succeeded_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "delay_until",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "response__id",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "retry_count",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "subscription__description",
          "ordinal": 10,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n                    SELECT ra.request_attempt__id, ra.event__id, ra.subscription__id, ra.created_at, ra.picked_at, ra.failed_at, ra.succeeded_at, ra.delay_until, ra.response__id, ra.retry_count, s.description AS subscription__description\n                    FROM webhook.request_attempt AS ra\n                    INNER JOIN webhook.subscription AS s ON s.subscription__id = ra.subscription__id\n                    WHERE s.application__id = $1 AND ra.event__id = $2 AND s.subscription__id = $3\n                    ORDER BY ra.created_at DESC\n                    LIMIT 50\n                "
  },
  "5a0ad6a3a722e98749a019984980d71f354755b54fe869ef0e877c4fc79e9673": {
    "describe": {
      "columns": [
        {
          "name": "service_name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "resource_type_name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "verb_name",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "event_type_name",
          "ordinal": 3,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n                SELECT service__name AS service_name, resource_type__name AS resource_type_name, verb__name AS verb_name, event_type__name AS event_type_name\n                FROM event.event_type\n                WHERE application__id = $1 AND event_type__name = $2\n            "
  },
  "60323f5a3ce646aeed44d0cfeeea088301a2c7233c26b2455b3d97396dfda3ad": {
    "describe": {
      "columns": [
        {
          "name": "subscription__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "is_enabled",
          "ordinal": 1,
          "type_info": "Bool"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "secret",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "metadata",
          "ordinal": 4,
          "type_info": "Jsonb"
        },
        {
          "name": "label_key",
          "ordinal": 5,
          "type_info": "Text"
        },
        {
          "name": "label_value",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "target__id",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 8,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Bool",
          "Text",
          "Jsonb",
          "Text",
          "Text",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n                    UPDATE webhook.subscription\n                    SET is_enabled = $1, description = $2, metadata = $3, label_key = $4, label_value = $5\n                    WHERE subscription__id = $6 AND application__id = $7 AND deleted_at IS NULL\n                    RETURNING subscription__id, is_enabled, description, secret, metadata, label_key, label_value, target__id, created_at\n                "
  },
  "60f16c59f954e1fdadd0c904929a8efb4e5a3925080ba0308dc8f8a07c391eab": {
    "describe": {
      "columns": [
        {
          "name": "application_id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT application__id AS application_id\n            FROM event.application\n            WHERE organization__id = $1\n        "
  },
  "66183b8a3c5f60aaf8512036662b6ec7832612299011e03e0800e318954afc3f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n                        INSERT INTO webhook.subscription__event_type (application__id, subscription__id, event_type__name)\n                        VALUES ($1, $2, $3)\n                    "
  },
  "680ed5d40ca52af1ccacea0de005c32c198219b374bce1a8a7dad0430f718222": {
    "describe": {
      "columns": [
        {
          "name": "request_attempt__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "event__id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "subscription__id",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        },
        {
          "name": "picked_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "failed_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "succeeded_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "delay_until",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "response__id",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "retry_count",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "subscription__description",
          "ordinal": 10,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n                    SELECT ra.request_attempt__id, ra.event__id, ra.subscription__id, ra.created_at, ra.picked_at, ra.failed_at, ra.succeeded_at, ra.delay_until, ra.response__id, ra.retry_count, s.description AS subscription__description\n                    FROM webhook.request_attempt AS ra\n                    INNER JOIN webhook.subscription AS s ON s.subscription__id = ra.subscription__id\n                    WHERE s.application__id = $1 AND ra.event__id = $2\n                    ORDER BY ra.created_at DESC\n                    LIMIT 50\n                "
  },
  "6dd786f89b2566e0915a9a883476147789481bcb5947f476c21f5f87dd0f5f05": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n                    UPDATE event.application_secret\n                    SET deleted_at = statement_timestamp()\n                    WHERE application__id = $1 AND token = $2\n                "
  },
  "7347b4a450bca6914ae53c28e9dafcb9d379eb499e1c19cffced854f70304b89": {
    "describe": {
      "columns": [
        {
          "name": "service_name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "resource_type_name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "verb_name",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "event_type_name",
          "ordinal": 3,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                SELECT service__name AS service_name, resource_type__name AS resource_type_name, verb__name AS verb_name, event_type__name AS event_type_name\n                FROM event.event_type\n                WHERE application__id = $1\n                ORDER BY event_type__name ASC\n            "
  },
  "73e8ce532801e8ba0af0a1e35ce39ed17386d31dac6be99749c62d61f33c4539": {
    "describe": {
      "columns": [
        {
          "name": "application_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "organization_id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "\n                UPDATE event.application\n                SET name = $1 WHERE application__id = $2\n                RETURNING application__id AS application_id, organization__id AS organization_id, name\n            "
  },
  "7508b6c5ac8dd79c71f4b3416436946ab0d8584a1f15f7c943cd44ab47d2cd87": {
    "describe": {
      "columns": [
        {
          "name": "application__id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT application__id FROM webhook.subscription WHERE subscription__id = $1 AND deleted_at IS NULL LIMIT 1"
  },
  "75c3aa82e6a7fd6d7ef407b312670fa722dca1e941b8d9c5c2cc18d165d11e6b": {
    "describe": {
      "columns": [
        {
          "name": "response__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "response_error__name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "http_code",
          "ordinal": 2,
          "type_info": "Int2"
        },
        {
          "name": "headers",
          "ordinal": 3,
          "type_info": "Jsonb"
        },
        {
          "name": "body",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "elapsed_time_ms",
          "ordinal": 5,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        true,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT r.response__id, r.response_error__name, r.http_code, r.headers, r.body, r.elapsed_time_ms\n            FROM webhook.response AS r\n            INNER JOIN webhook.request_attempt AS ra ON ra.response__id = r.response__id\n            INNER JOIN webhook.subscription AS s ON s.subscription__id = ra.subscription__id\n            WHERE s.application__id = $1 AND r.response__id = $2\n        "
  },
  "7a8cf66698ccb56b36666363340bc5924b0b353be4037a6bc46d79673a7b9110": {
    "describe": {
      "columns": [
        {
          "name": "application__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                                                    SELECT application__id, name\n                                                    FROM event.application_secret\n                                                    WHERE deleted_at IS NULL AND token = $1\n                                                    LIMIT 1\n                                                "
  },
  "7ab6badad1fd72ffb1c81f26e71e32d8bb4c45e8f19cedfe396d2186f90a8554": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n                    UPDATE webhook.subscription\n                    SET deleted_at = statement_timestamp()\n                    WHERE application__id = $1 AND subscription__id = $2\n                "
  },
  "7c8b6ac1bf146fb0c3b01a662d1fe80ff99d09403289967509a7fc3e4ab372d1": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n                    DELETE FROM event.event_type\n                    WHERE application__id = $1 AND event_type__name = $2\n                "
  },
  "8f5f75851e8cb0955f95f3b588e680def4a7212ba90b63c260eb9c7dec182f6c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n            UPDATE event.organization\n            SET name = $2\n            WHERE organization__id = $1\n        "
  },
  "977fc5dee15cf9596bc038507e355d1f94d0a69484f3fa4a8f04ad4ae707b238": {
    "describe": {
      "columns": [
        {
          "name": "subscription__id!",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "is_enabled!",
          "ordinal": 1,
          "type_info": "Bool"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "secret!",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "metadata!",
          "ordinal": 4,
          "type_info": "Jsonb"
        },
        {
          "name": "label_key!",
          "ordinal": 5,
          "type_info": "Text"
        },
        {
          "name": "label_value!",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "created_at!",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "event_types",
          "ordinal": 8,
          "type_info": "TextArray"
        },
        {
          "name": "target_json",
          "ordinal": 9,
          "type_info": "Jsonb"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            WITH subs AS (\n                SELECT\n                    s.subscription__id, s.is_enabled, s.description, s.secret, s.metadata, s.label_key, s.label_value, s.target__id, s.created_at,\n                    CASE WHEN length((array_agg(set.event_type__name))[1]) > 0\n                        THEN array_agg(set.event_type__name)\n                        ELSE ARRAY[]::text[] END AS event_types\n                FROM webhook.subscription AS s\n                LEFT JOIN webhook.subscription__event_type AS set ON set.subscription__id = s.subscription__id\n                WHERE s.application__id = $1 AND deleted_at IS NULL\n                GROUP BY s.subscription__id\n                ORDER BY s.created_at ASC\n            ), targets AS (\n                SELECT target__id, jsonb_build_object(\n                    'type', replace(tableoid::regclass::text, 'webhook.target_', ''),\n                    'method', method,\n                    'url', url,\n                    'headers', headers\n                ) AS target_json FROM webhook.target_http\n                WHERE target__id IN (SELECT target__id FROM subs)\n            )\n            SELECT subs.subscription__id AS \"subscription__id!\", subs.is_enabled AS \"is_enabled!\", subs.description, subs.secret AS \"secret!\", subs.metadata AS \"metadata!\", subs.label_key AS \"label_key!\", subs.label_value AS \"label_value!\", subs.created_at AS \"created_at!\", subs.event_types, targets.target_json\n            FROM subs\n            INNER JOIN targets ON subs.target__id = targets.target__id\n        "
  },
  "9b0b663cc66c5f27ed8783913afc126dc7861219df428fdc1f5336fa8448c5fe": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                SELECT name\n                FROM event.organization\n                WHERE organization__id = $1\n            "
  },
  "9d71200b2a128a11f538b5f08f6bf140560bbd678315903d2352d1932181e3bb": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "token",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "deleted_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT name, token, created_at, deleted_at\n            FROM event.application_secret\n            WHERE deleted_at IS NULL AND application__id = $1\n            ORDER BY created_at ASC\n        "
  },
  "9ff1f54dc2b8e90b5b42e1578aa58aaba13d41a41821ba4961064142b53bc74a": {
    "describe": {
      "columns": [
        {
          "name": "application_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "organization_id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT application__id AS application_id, organization__id AS organization_id, name\n            FROM event.application\n            WHERE application__id = $1\n        "
  },
  "a1d1ba8baa53015d683d6b77fe31a6ae672f251792eead868d2a3f94ef296ab5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n                    INSERT INTO webhook.subscription__event_type (application__id, subscription__id, event_type__name)\n                    VALUES ($1, $2, $3)\n                "
  },
  "b5d4abddfdeae1cd7851e5e90d8e296a1855e69cba499f3238913cf8b2f6e5da": {
    "describe": {
      "columns": [
        {
          "name": "application_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "organization_id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n                INSERT INTO event.application (organization__id, name) VALUES ($1, $2)\n                RETURNING application__id AS application_id, organization__id AS organization_id, name\n            "
  },
  "ced571dc5144ee7ddcb20ef555dd86c2957d296ff36be2ae13c008b0472556e5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n            INSERT INTO event.verb (application__id, verb__name)\n            VALUES ($1, $2)\n            ON CONFLICT DO NOTHING\n        "
  },
  "dcb522f9b1406d407af57843bb37f1bb3cea974e158138b696e1ec3fc2445055": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "\n            INSERT INTO event.organization (organization__id, name, created_by)\n            VALUES ($1, $2, $3)\n        "
  },
  "dccd323176a61aa3463a4084636d49d0162a13839ba1b49602b232547ae76ab7": {
    "describe": {
      "columns": [
        {
          "name": "application__id!",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "subscription__id!",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "is_enabled!",
          "ordinal": 2,
          "type_info": "Bool"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "secret!",
          "ordinal": 4,
          "type_info": "Uuid"
        },
        {
          "name": "metadata!",
          "ordinal": 5,
          "type_info": "Jsonb"
        },
        {
          "name": "label_key!",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "label_value!",
          "ordinal": 7,
          "type_info": "Text"
        },
        {
          "name": "created_at!",
          "ordinal": 8,
          "type_info": "Timestamptz"
        },
        {
          "name": "event_types",
          "ordinal": 9,
          "type_info": "TextArray"
        },
        {
          "name": "target_json",
          "ordinal": 10,
          "type_info": "Jsonb"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n            WITH subs AS (\n                SELECT\n                    s.application__id, s.subscription__id, s.is_enabled, s.description, s.secret, s.metadata, s.label_key, s.label_value, s.target__id, s.created_at,\n                    CASE WHEN length((array_agg(set.event_type__name))[1]) > 0\n                        THEN array_agg(set.event_type__name)\n                        ELSE ARRAY[]::text[] END AS event_types\n                FROM webhook.subscription AS s\n                LEFT JOIN webhook.subscription__event_type AS set ON set.subscription__id = s.subscription__id\n                WHERE s.application__id = $1 AND s.subscription__id = $2\n                GROUP BY s.subscription__id\n                ORDER BY s.created_at ASC\n            ), targets AS (\n                SELECT target__id, jsonb_build_object(\n                    'type', replace(tableoid::regclass::text, 'webhook.target_', ''),\n                    'method', method,\n                    'url', url,\n                    'headers', headers\n                ) AS target_json FROM webhook.target_http\n                WHERE target__id IN (SELECT target__id FROM subs)\n            )\n            SELECT subs.application__id AS \"application__id!\", subs.subscription__id AS \"subscription__id!\", subs.is_enabled AS \"is_enabled!\", subs.description, subs.secret AS \"secret!\", subs.metadata AS \"metadata!\", subs.label_key AS \"label_key!\", subs.label_value AS \"label_value!\", subs.created_at AS \"created_at!\", subs.event_types, targets.target_json\n            FROM subs\n            INNER JOIN targets ON subs.target__id = targets.target__id\n            LIMIT 1\n        "
  },
  "e381dee2ce7ea6b771536e80b5e239f360f76e7172dc3a368da140a73cdec9be": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "token",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "deleted_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n            SELECT name, token, created_at, deleted_at\n            FROM event.application_secret\n            WHERE application__id = $1 AND token = $2\n        "
  },
  "e5fb21c429f81bfd746d494e1bec9cfc47bc480463be722ce6ed6c7eaef08fb5": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "token",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "deleted_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n            UPDATE event.application_secret\n            SET name = $1\n            WHERE application__id = $2 AND token = $3\n            RETURNING name, token, created_at, deleted_at\n        "
  },
  "fdf3486340176c6d2fd5f54b0cd94b3bf93ef6ece1acd8d0b1f7756cd31201ba": {
    "describe": {
      "columns": [
        {
          "name": "service_name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "resource_type_name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "verb_name",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "event_type_name",
          "ordinal": 3,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "\n                INSERT INTO event.event_type (application__id, service__name, resource_type__name, verb__name)\n                VALUES ($1, $2, $3, $4)\n                RETURNING service__name AS service_name, resource_type__name AS resource_type_name, verb__name AS verb_name, event_type__name AS event_type_name\n            "
  },
  "feb121f20e144762f2679eda1e79feb5e41d1a467db1c97f37f1e879229641e6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                DELETE FROM event.organization\n                WHERE organization__id = $1\n            "
  },
  "ff04ae42c5a87275c9fe9b28d92ddad97013233c2bd198f43b8e827c60d99bdc": {
    "describe": {
      "columns": [
        {
          "name": "request_attempt__id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "event__id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "subscription__id",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        },
        {
          "name": "picked_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "failed_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "succeeded_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "delay_until",
          "ordinal": 7,
          "type_info": "Timestamptz"
        },
        {
          "name": "response__id",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "retry_count",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "subscription__description",
          "ordinal": 10,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                    SELECT ra.request_attempt__id, ra.event__id, ra.subscription__id, ra.created_at, ra.picked_at, ra.failed_at, ra.succeeded_at, ra.delay_until, ra.response__id, ra.retry_count, s.description AS subscription__description\n                    FROM webhook.request_attempt AS ra\n                    INNER JOIN webhook.subscription AS s ON s.subscription__id = ra.subscription__id\n                    WHERE s.application__id = $1\n                    ORDER BY ra.created_at DESC\n                    LIMIT 50\n                "
  }
}